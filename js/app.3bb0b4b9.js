(function(e){function t(t){for(var n,i,o=t[0],l=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0417":function(e,t,a){},"2ca9":function(e,t,a){"use strict";var n=a("2d36"),r=a.n(n);r.a},"2d36":function(e,t,a){},"32ba":function(e,t,a){},3447:function(e,t,a){e.exports=a.p+"img/titan_logo.ce6fc21d.png"},3639:function(e,t,a){"use strict";var n=a("32ba"),r=a.n(n);r.a},"438f":function(e,t,a){},"519e":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("d81d"),a("b0c0"),a("d3b7"),a("ac1f"),a("1276"),a("ddb0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.errored?a("div",[a("h1",[e._v("Error!")])]):e.loading?a("div",[a("vk-spinner")],1):a("div",[a("SideBar",{attrs:{sections:e.sections}}),a("router-view",{attrs:{params:e.params}})],1)])},s=[],i=(a("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-left"},[n("vk-nav",{directives:[{name:"vk-scroll",rawName:"v-vk-scroll"}]},[n("img",{attrs:{src:a("3447"),alt:"TITAN logo"}}),n("vk-nav-item-header",{attrs:{title:"TITAN Params"}}),n("vk-nav-item-divider"),n("li",{staticClass:"uk-parent"},[n("router-link",{attrs:{to:"/params"}},[e._v("Params")]),n("ul",{staticClass:"uk-nav-sub"},e._l(e.sections,(function(t){return n("div",{key:t},[n("li",{},[n("router-link",{attrs:{to:"/params#"+t+"-1"}},[e._v(e._s(t))])],1)])})),0)],1),n("vk-nav-item-divider"),n("li",{staticClass:"uk-parent"},[n("router-link",{attrs:{to:"/docs"}},[e._v("Docs")])],1)],1)],1)}),o=[],l={name:"SideBar",props:{sections:Array}},u=l,c=(a("a736"),a("2877")),d=Object(c["a"])(u,i,o,!1,null,null,null),p=d.exports,m={name:"app",components:{SideBar:p},props:{params:Object,loading:Boolean,errored:Boolean},data:function(){return{localParams:this.params}},computed:{sections:function(){return Object.keys(this.localParams)}}},f=m,h=Object(c["a"])(f,r,s,!1,null,null,null),v=h.exports,b=a("bc3a"),y=a.n(b),_=a("8f3c"),g=a.n(_),w=a("6d68"),k=a("5320"),P=(a("1941"),a("998c")),x=a.n(P),T=a("8c4f"),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main uk-section uk-section-default"},[a("div",{staticClass:"uk-container"},[a("h1",[e._v("Params")]),a("Param",{attrs:{level:1,params:e.params}})],1)])},S=[],O=a("5702"),A={name:"MainContent",components:{Param:O["default"]},props:{params:Object}},C=A,M=(a("3639"),Object(c["a"])(C,j,S,!1,null,null,null)),I=M.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}],staticClass:"main uk-section uk-section-default"},[a("div",{staticClass:"uk-container"},[a("span",{domProps:{innerHTML:e._s(e.docsMd)}})])])},E=[],N=a("e0c1"),H=a.n(N),L="# Docs\n\nThe TITAN model uses various parameters to control the set up and running of the agent based model.  This website serves as a guide to what parameters currently exist and how to use this information to adjust the parameters needed for a specific run of the model.\n\n## Getting Started\n\nThe model takes several command line arguments for the setting and parameters:\n1) (required) a path to either a single [yaml](https://gettaurus.org/docs/YAMLTutorial/) file or a directory of yaml files;\n2) (optional) a setting name; and\n3) (optional) a true/false for whether to use the `base` setting (default `True`).\n\nEither a file or directory may be used for params, it just depends on if you like all params in one file or the organization of breaking it into multiple files.  The yaml file(s) only need to contain parameters that the user wishes to change from the default. Any unspecified parameters will revert to the defaults. The subset of parameters given to the model will be combined with all of the defaults to calculate the full parameter specification for a model run.  This full specification is additionally saved off to the `results` directory with the reports so that the run can be reproduced in the future.\n\nIf using `run_titan.py`:\n```bash\npython -m run_titan -p /dir/to/my_params -S atlanta\n```\n\nIf submitting a job using `subTitan.sh`:\n```bash\n./subTitan my_params/ -S atlanta\n```\n\nThe fully computed parameters for your model run can be found in your results directory as `params.yml`.\n\n### Settings\n\nSettings allow base populations to be defined and easily re-used across model runs.  They typically are named after the city they are modeled after.  One exception is `base`, which contains complex population-based defaults and can be used in combination with any other setting (or no setting). Any values set at this level will override what is in the `default` field of a parameter definition.\n\nThe order of preference for a parameter value is:\n\n1. Param files (`-p` flag or first argument to `subTitan.sh`)\n2. City Setting files (`-S` flag)\n3. Base Setting files (`-b` flag)\n4. Parameter definition defaults\n\n### Key Parameters\n\nParameters span a variety of areas, and many of them will either have a good default or will not be used at all based on the features in use in the model (e.g., if incarceration is off, the incarceration params won't be used).  However, some parameters are required for every model as they are pivotal to how the model runs.  These are:\n\n(**NB:** `classes` are foundational, but will make more sense once you've read everything else - circle back to this)\n* `classes`: There are defaults here; however they should always be reviewed.  Where a parameter of type `sub-dict` has `keys`, these keys refer to the parameters that have been set in classes.  For example, if `WHITE` is set as one of the races, where `races` is a `key` for a `sub-dict`, they yaml might look like:\n\n```yml\nsubdict_param:\n  WHITE:\n    ppl: .9\n```\n\n* `demographics`: For each of the populations that are set in the `classes` params, there should be a corresponding demographics key.  At a minimum, the `ppl` (population) percentage should be set. The model will validate that all the population percentages add up to 1 at both the `races` and `sex_types` levels.  So if our races are `WHITE` and `BLACK` (the default) and our only `sex_types` are `MSM` and `ABC` and our `populations` is `PWID` (the default), below is a minimal yaml needed to set that up.\n\n```yml\nclasses:\n  sex_types:\n    MSM: # this is a sex_type definition for a cis man who sleeps with cis men\n      gender: M\n      cis_trans: cis\n      sleeps_with:\n        - MSM\n    ABC: # this a sex_type definition that highlights how you can define a \"new\" sex_type with the params\n      gender: O\n      cis_trans: trans\n      sleeps_with: []\n\ndemographics:\n  WHITE:\n    ppl: 0.6 # 60% of the total population is WHITE\n    MSM:\n      ppl: 1.0 # 100% of the white population is MSM\n    PWID:\n      ppl: 0.1 # 10% of the white population is PWID - note, this is not a sex type so is outside of the summing to 100% constraint\n  BLACK:\n    ppl: 0.4 # 40% of the total population is BLACK\n    MSM:\n      ppl: 0.9 # 90% of the black population is MSM\n    ABC:\n      ppl: 0.1 # 10% of the black population is ABC\n    # PWID not needed to be specified if not used in the BLACK population as the default ppl is 0\n```\n\n* `features`: By default all `features` are set to `false` so that they are not in use.  If you want to use a feature (e.g. `incar`), update the `features` params accordingly.  Many features files have a related section which has the related parameters for that feature when it is on.\n\n```yml\nfeatures:\n  incar: true\n  vaccine: true\n\nincar:\n  haart:\n    prob: 0.9\n```\n\n* `model`: This controls core parts of the model, such as the population size, random seeds, and network type.\n\n### Data Types\n\nEvery parameter is associated with a data type to ensure that what is entered is what the model expects.  The types are:\n\n* `float`: a floating point number (e.g.`0.67`)\n* `int`: an integer (e.g. `2`)\n* `boolean`: a `true` or `false` value\n* `enum`: a value from a set list (see `values` of same definition for valid options)\n* `array`: a list of values from a set list (see `values` of same definition for valid options)\n* `bin`: a sub-structure with numeric keys and set fields (see `fields` of same definition for required sub-fields)\n* `sub-dict`: a sub-structure with keys that are based on the fields in `classes` (e.g. `races`)\n* `definition`: a sub-substructure with keys you define, but required fields (see `fields` of same definition for required sub-fields). Within a `definition`'s fields there is the option of a special `type` of `keys`, which means the values acceptable for that field are the keys that are defined in the definition (see `classes.sex_types` for an example).\n\n```yml\nfloat_param: 0.67\nint_param: 1\nboolean_param: true\nenum_param: option_a # values were option_a, option_b, option_c\narray_param: # values were option_a, option_b, option_c\n  - option_b\n  - option_c\nbin_param:\n  1:\n    prob: 0.45\n    min: 1\n    max: 6\n  2:\n    prob: 0.55\n    min: 7\n    max: 34\nsubdict_param:\n  CLASS_A:\n    my_param: 4\n  CLASS_B:\n    my_param: 5\ndefinition_param:\n  MY_PARAM:\n    weight: 20\n    age: 32\n  YOUR_PARAM:\n    weight: 22\n    age: 14\n```\n\nIn addition to the data types, there may be a `min`, `max`, or `values` set for the field.  This will ensure that the value is greater than or equal to the `min`, less than or equal to the `max` or listed within `values`.\n",W={name:"DocsContent",data:function(){return{docsMd:H()(L)}}},q=W,D=(a("2ca9"),Object(c["a"])(q,B,E,!1,null,null,null)),F=D.exports;n["a"].use(T["a"]);var $=[{path:"/params",name:"params",component:I},{path:"/docs",name:"docs",component:F},{path:"*",redirect:"/params"}],K=new T["a"]({mode:"history",base:"/",routes:$,scrollBehavior:function(e,t,a){return a||(e.hash?{selector:e.hash}:{x:0,y:0})}}),R=K;n["a"].use(w["a"]),n["a"].use(k["a"]),n["a"].use(x.a),n["a"].config.productionTip=!1;var U="params-overhaul";y.a.defaults.headers.common["Authorization"]="Bearer ".concat(Object({VUE_APP_TITAN_BRANCH:"params-overhaul",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GH_TOKEN),new n["a"]({el:"#app",router:R,render:function(e){return e(v,{props:{params:this.params,loading:this.loading,errored:this.errored}})},data:{params:{},loading:!0,errored:!1},mounted:function(){var e=this,t="https://api.github.com/graphql",a={query:'\n      query {\n        repository(owner: "marshall-lab", name: "TITAN") {\n          folder: object(expression: "'.concat(U,':titan/params") {\n            ... on Tree {\n              entries {\n                oid\n                object {\n                  ... on Blob {\n                    text\n                  }\n                }\n                name\n              }\n            }\n          }\n        }\n        }\n      ')};y.a.post(t,a).then((function(t){t.data.data.repository.folder.entries.map((function(t){var a=t.name.split(".")[0],r=g.a.parse(t.object.text);n["a"].set(e.params,a,r[a])}))})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1}))}})},5702:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:e.style},["default"in e.params?a("ParamItem",{attrs:{params:e.params,level:e.level,title:"<keys>"}}):e._l(e.params,(function(t,n){return a("div",{key:n,attrs:{id:n+"-"+e.level}},[t.constructor!==Object?a("Field",{attrs:{name:n,item:t}}):a("div",[1===e.level?a("hr"):e._e(),"default"in t?a("ParamItem",{attrs:{params:t,level:e.level,title:n}}):a("ParamHeader",{attrs:{title:n}},[a("Param",{attrs:{level:e.nextLevel,params:t}})],1)],1)],1)}))],2)},r=[],s=(a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ParamHeader",{attrs:{title:e.title,type:e.params.type}},[a("ul",{staticClass:"uk-list param-body"},[a("li",[e._v(e._s(e.params.description))]),e._l(e.nonStandardParams,(function(e,t){return a("Field",{key:t,attrs:{name:t,item:e}})})),e.params.default.constructor===Object?a("div",[a("li",[a("strong",[e._v("default:")])]),a("Param",{attrs:{level:e.nextLevel,params:e.params.default}})],1):a("Field",{attrs:{name:"default",item:e.params.default}})],2)])}),i=[],o=(a("4de4"),a("caad"),a("13d5"),a("b64b"),a("d3b7"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[e.item.constructor===Object?a("span",[a("strong",[e._v(e._s(e.name)+":")]),a("ul",e._l(e.item,(function(e,t){return a("Field",{key:t,attrs:{name:t,item:e}})})),1)]):e.item.constructor===Array?a("span",{staticClass:"inline"},[a("strong",[e._v(e._s(e.name)+":")]),a("p",{staticClass:"mono"},[e._v(" [ "+e._s(e.joinArray())+" ]")])]):a("span",[a("strong",[e._v(e._s(e.name)+": ")]),a("span",{staticClass:"mono"},[e._v(e._s(e.item))])])])}),l=[],u=(a("a15b"),{name:"Field",props:{name:String,item:[String,Number,Array,Object,Boolean]},methods:{joinArray:function(){return this.item.join(", ")}}}),c=u,d=(a("6b18"),a("2877")),p=Object(d["a"])(c,o,l,!1,null,null,null),m=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uk-box-shadow-small uk-padding-none"},[a("div",{staticClass:"uk-padding-small"},[a("div",{staticClass:"header"},[a("vk-icon",{attrs:{icon:"chevron-right",ratio:"0.7"}}),a("h4",{staticClass:"mono"},[e._v(e._s(e.title))]),e.type?a("p",{staticClass:"mono"},[e._v(" ::"+e._s(e.type))]):e._e()],1),e._t("default")],2)])},h=[],v={name:"ParamHeader",props:{title:String,type:String}},b=v,y=(a("af45"),Object(d["a"])(b,f,h,!1,null,null,null)),_=y.exports,g={name:"ParamItem",props:{level:Number,params:Object,title:String},data:function(){return{standardItems:["default","type","description"]}},components:{Param:function(){return Promise.resolve().then(a.bind(null,"5702"))},Field:m,ParamHeader:_},computed:{nonStandardParams:function(){var e=this;return Object.keys(this.params).filter((function(t){return!e.standardItems.includes(t)})).reduce((function(t,a){return t[a]=e.params[a],t}),{})},nextLevel:function(){return this.level+1}}},w=g,k=(a("6531"),Object(d["a"])(w,s,i,!1,null,null,null)),P=k.exports,x={name:"Param",props:{level:Number,params:Object},components:{ParamItem:P,Field:m,ParamHeader:_},computed:{style:function(){return 1===this.level?"padding-left: 0px":"padding-left: 30px"},nextLevel:function(){return this.level+1}}},T=x,j=Object(d["a"])(T,n,r,!1,null,null,null);t["default"]=j.exports},6531:function(e,t,a){"use strict";var n=a("519e"),r=a.n(n);r.a},"6b18":function(e,t,a){"use strict";var n=a("438f"),r=a.n(n);r.a},a0a6:function(e,t,a){},a736:function(e,t,a){"use strict";var n=a("a0a6"),r=a.n(n);r.a},af45:function(e,t,a){"use strict";var n=a("0417"),r=a.n(n);r.a}});
//# sourceMappingURL=app.3bb0b4b9.js.map